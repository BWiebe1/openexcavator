<!DOCTYPE html>
<html>
<head>
	<title>Excavator</title>
	<meta name="viewport" content="initial-scale=1.0">
	<meta charset="utf-8">
	<link rel="stylesheet" href="/static/css/bootstrap.min.css" />
	<link rel="stylesheet" href="/static/css/leaflet.css" />
	<link rel="stylesheet" href="/static/css/home.css" />
	<script	src="/static/js/jquery.min.js"></script>
	<script src="/static/js/popper.js"></script>
	<script	src="/static/js/proj4.js"></script>
	<script	src="/static/js/bootstrap.min.js"></script>
	<script	src="/static/js/lodash.min.js"></script>
	<script src="/static/js/70120bc685.js"></script>
	<script src="/static/js/leaflet.js"></script>
	<script src="/static/js/home.js"></script>
</head>
<body>
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="exampleModalLabel">Update settings</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
          <form enctype="multipart/form-data" action="/update" method="post">
          {% module xsrf_form_html() %}
	      <div class="modal-body">
	  	      	<div class="input-group">
			    	<span class="input-group-addon">GPS Host</span>
			    	<input id="gps_host" type="text" class="form-control" name="gps_host" placeholder="gps_host" value="{{config['gps_host']}}">
	          	</div>
	  	    	<div class="input-group">
			    	<span class="input-group-addon">GPS Port</span>
			    	<input id="gps_port" type="text" class="form-control" name="gps_port" placeholder="gps_port" value="{{config['gps_port']}}">
	          	</div>
		      	<div class="input-group">
			    	<span class="input-group-addon">Start Altitude</span>
			    	<input id="start_altitude" type="text" class="form-control" name="start_altitude" placeholder="start_altitude" value="{{config['start_altitude']}}">
	          	</div>
		      	<div class="input-group">
			    	<span class="input-group-addon">Stop Altitude</span>
			    	<input id="stop_altitude" type="text" class="form-control" name="stop_altitude" placeholder="stop_altitude" value="{{config['stop_altitude']}}">
	          	</div>
		      	<div class="input-group">
			    	<span class="input-group-addon">Antenna Height</span>
			    	<input id="antenna_height" type="text" class="form-control" name="antenna_height" placeholder="antenna_height" value="{{config['antenna_height']}}">
	          	</div>
		      	<div class="input-group">
			    	<span class="input-group-addon">GeoJSON</span>
			    	<input id="path" type="file" class="form-control" name="path" placeholder="path" data-text="{{config['path']}}">
	          	</div>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		        <button type="submit" class="btn btn-primary" id="saveChanges">Save changes</button>
		      </div>
	      </form>
	    </div>
	  </div>
	</div>
	<div class="container-fluid small">
		<div class="row">
			<div class="col">
				<h3 class="text-center">Open Excavator</h3>
			</div>
			<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">Settings</button>
		</div>
		<div class="row">
			<div class="col-4 border border-primary">
				Latitude:
				<p id="plat" class="text-center">0</p>
			</div>
			<div class="col-4 border border-primary">
				Longitude: <br>
				<p id="plng" class="text-center">0</p>
			</div>
			<div class="col-4 border border-primary">
				Altitude/Slope:
				<p id="palt" class="text-center">0</p>
			</div>
			<div class="col-4 border border-primary">
				Heading: <br>
				<p id="pdir" class="text-center">0</p>
			</div>
			<div class="col-4 border border-primary">
				Accuracy/Quality: <br>
				<p id="pacc" class="text-center">0</p>
			</div>
			<div class="col-4 border border-primary">
				Clock: <br>
				<p id="ptim" class="text-center">0</p>
			</div>
		</div>
		<div class="row">
			<div class="col-2 border border-primary">
				<h4 class="text-center">Hght</h4>
				<p id="height" class="text-center">
					Down: <br> M
				</p>
				<p class="text-center">
					<i class="fa fa-arrow-down fa-3x text-muted" aria-hidden="true"></i>
				</p>
				<p class="text-center">
					<i class="fa fa-arrow-down fa-2x text-muted" aria-hidden="true"></i>
				</p>
				<p class="text-center">
					<i class="fa fa-arrow-down text-muted" aria-hidden="true"></i>
				</p>
				<p class="text-center">
					<i class="fa fa-arrow-up text-muted" aria-hidden="true"></i>
				</p>
				<p class="text-center">
					<i class="fa fa-arrow-up fa-2x text-muted" aria-hidden="true"></i>
				</p>
				<p class="text-center">
					<i class="fa fa-arrow-up fa-3x text-muted" aria-hidden="true"></i>
				</p>
				<h4 class="text-center">Dist</h4>
				<p id="distance" class="text-center">M</p>
			</div>
			<div class="col-10 border border-primary">
				<div id="mapid" style="width: 100%; height: 100%;"></div>
			</div>
		</div>
	</div>
    {% if error_msg %}
    	<p class="message">{{error_msg}}</p>
    {% end %}
</body>
</html>